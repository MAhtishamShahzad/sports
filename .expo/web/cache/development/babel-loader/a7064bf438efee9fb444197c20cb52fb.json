{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/apple/Desktop/projects/Newsbuzz_app/NewsBuzz/src/screens/components/Event/Userlocation.js\";\nimport React, { Component } from \"react\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Constants from \"expo-constants\";\nimport * as Location from \"expo-location\";\nimport * as Permissions from \"expo-permissions\";\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      location: null,\n      errorMessage: null,\n      address: null\n    };\n\n    _this._getLocationAsync = function _callee() {\n      var _await$Permissions$as, status, location, _location$coords, latitude, longitude;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              _await$Permissions$as = _context.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== \"granted\") {\n                _this.setState({\n                  errorMessage: \"Permission to access location was denied\"\n                });\n              }\n\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 7:\n              location = _context.sent;\n\n              _this.setState({\n                location: location\n              });\n\n              _location$coords = location.coords, latitude = _location$coords.latitude, longitude = _location$coords.longitude;\n\n              _this.getGeocodeAsync({\n                latitude: latitude,\n                longitude: longitude\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    _this.getGeocodeAsync = function _callee2(location) {\n      var address;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Location.reverseGeocodeAsync(location));\n\n            case 2:\n              address = _context2.sent;\n              address = JSON.stringify(address[0].city);\n\n              _this.setState({\n                address: address\n              });\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    };\n\n    if (Platform.OS === \"android\" && !Constants.isDevice) {\n      _this.setState({\n        errorMessage: \"Oops, this will not work on Sketch in an Android emulator. Try it on your device!\"\n      });\n    } else {\n      _this._getLocationAsync();\n    }\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var address = \"\";\n      var text = \"Waiting..\";\n\n      if (this.state.errorMessage) {\n        text = this.state.errorMessage;\n      } else if (this.state.location) {\n        text = JSON.stringify(this.state.location);\n        address = this.state.address;\n      }\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        }\n      }, React.createElement(Text, {\n        style: styles.paragraph,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        }\n      }, address));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: \"#ecf0f1\"\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["/Users/apple/Desktop/projects/Newsbuzz_app/NewsBuzz/src/screens/components/Event/Userlocation.js"],"names":["React","Component","Constants","Location","Permissions","App","props","state","location","errorMessage","address","_getLocationAsync","askAsync","LOCATION","status","setState","getCurrentPositionAsync","coords","latitude","longitude","getGeocodeAsync","reverseGeocodeAsync","JSON","stringify","city","Platform","OS","isDevice","text","styles","container","paragraph","StyleSheet","create","flex","alignItems","justifyContent","paddingTop","statusBarHeight","backgroundColor","margin","fontSize","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Platform, Text, View, StyleSheet } from \"react-native\";\nimport Constants from \"expo-constants\";\nimport * as Location from \"expo-location\";\nimport * as Permissions from \"expo-permissions\";\n\nexport default class App extends Component {\n  state = {\n    location: null,\n    errorMessage: null,\n    address: null,\n  };\n\n  constructor(props) {\n    super(props);\n    if (Platform.OS === \"android\" && !Constants.isDevice) {\n      this.setState({\n        errorMessage:\n          \"Oops, this will not work on Sketch in an Android emulator. Try it on your device!\",\n      });\n    } else {\n      this._getLocationAsync();\n    }\n  }\n\n  _getLocationAsync = async () => {\n    let { status } = await Permissions.askAsync(Permissions.LOCATION);\n    if (status !== \"granted\") {\n      this.setState({\n        errorMessage: \"Permission to access location was denied\",\n      });\n    }\n\n    let location = await Location.getCurrentPositionAsync({});\n    this.setState({ location });\n\n    const { latitude, longitude } = location.coords;\n    this.getGeocodeAsync({ latitude, longitude });\n    // this.setState(address);\n  };\n  getGeocodeAsync = async (location) => {\n    let address = await Location.reverseGeocodeAsync(location);\n    address = JSON.stringify(address[0].city);\n    this.setState({ address });\n  };\n\n  render() {\n    let address = \"\";\n    let text = \"Waiting..\";\n    if (this.state.errorMessage) {\n      text = this.state.errorMessage;\n    } else if (this.state.location) {\n      text = JSON.stringify(this.state.location);\n      address = this.state.address;\n    }\n\n    return (\n      <View style={styles.container}>\n        <Text style={styles.paragraph}>{address}</Text>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: \"#ecf0f1\",\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    textAlign: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}